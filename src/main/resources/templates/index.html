<!DOCTYPE html>
<html lang="en" xmls:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<title>Biblioteca</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
</head>

<body>
	<nav th:replace="fragments/nav" />

	<p class="ml-3 mt-3">
		Bienvenido/a
		<b th:inline="text">[[${name}]]</b>
	</p>

	<div th:if="${error != null}">
		<div class="alert alert-danger" role="alert">
			<p>[[${error}]]</p>
		</div>
	</div>
	<h1 class="ml-3 mt-3">Biblioteca</h1>
	<a href="/libros/create" class="btn btn-primary ml-5 mt-2" sec:authorize="hasRole('ADMIN')">Agregar libro</a>

		<div class="d-flex flex-wrap">

		<div th:each="libro:${listaLibros}" class="card m-2" style="width: 18rem;">
			<div class="card-body">
				<h5 th:text="${libro.titulo}" class="card-title"></h5>
				<p th:text="${libro.tipoLibro}" class="card-text"></p>
				<p class="card-text">[[${libro.anyo}]]</p>
				<p th:text="${libro.autor.nombre}" class="card-text"></p>
				<a th:href="@{'/libros/' + ${libro.id}}" sec:authorize="hasRole('ADMIN')"
					class="btn btn-primary">Detalles</a>
				<a th:href="@{'/prestamos/crear/' + ${libro.id}}" sec:authorize="hasRole('LECTOR')"
					class="btn btn-primary">Crear pr√©stamo</a>
			</div>
			</div>
		</div>
	</div>
	</section>
</body>

</html>